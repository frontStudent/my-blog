"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([[6963],{3905:(n,e,r)=>{r.d(e,{Zo:()=>c,kt:()=>b});var t=r(7294);function a(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function s(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.push.apply(r,t)}return r}function o(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){a(n,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}))}return n}function i(n,e){if(null==n)return{};var r,t,a=function(n,e){if(null==n)return{};var r,t,a={},s=Object.keys(n);for(t=0;t<s.length;t++)r=s[t],e.indexOf(r)>=0||(a[r]=n[r]);return a}(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(t=0;t<s.length;t++)r=s[t],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(n,r)&&(a[r]=n[r])}return a}var u=t.createContext({}),p=function(n){var e=t.useContext(u),r=e;return n&&(r="function"==typeof n?n(e):o(o({},e),n)),r},c=function(n){var e=p(n.components);return t.createElement(u.Provider,{value:e},n.children)},m="mdxType",l={inlineCode:"code",wrapper:function(n){var e=n.children;return t.createElement(t.Fragment,{},e)}},d=t.forwardRef((function(n,e){var r=n.components,a=n.mdxType,s=n.originalType,u=n.parentName,c=i(n,["components","mdxType","originalType","parentName"]),m=p(r),d=a,b=m["".concat(u,".").concat(d)]||m[d]||l[d]||s;return r?t.createElement(b,o(o({ref:e},c),{},{components:r})):t.createElement(b,o({ref:e},c))}));function b(n,e){var r=arguments,a=e&&e.mdxType;if("string"==typeof n||a){var s=r.length,o=new Array(s);o[0]=d;var i={};for(var u in e)hasOwnProperty.call(e,u)&&(i[u]=e[u]);i.originalType=n,i[m]="string"==typeof n?n:a,o[1]=i;for(var p=2;p<s;p++)o[p]=r[p];return t.createElement.apply(null,o)}return t.createElement.apply(null,r)}d.displayName="MDXCreateElement"},6961:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>u,contentTitle:()=>o,default:()=>l,frontMatter:()=>s,metadata:()=>i,toc:()=>p});var t=r(7462),a=(r(7294),r(3905));const s={},o=void 0,i={unversionedId:"snippets/js\u624b\u5199",id:"snippets/js\u624b\u5199",title:"js\u624b\u5199",description:"\u6570\u636e\u6dfb\u52a0\u5343\u5206\u4f4d/\u4e0a\u5347\u4e0b\u964d\u9ad8\u4eae\u5904\u7406",source:"@site/docs/snippets/js\u624b\u5199.md",sourceDirName:"snippets",slug:"/snippets/js\u624b\u5199",permalink:"/my-blog/docs/snippets/js\u624b\u5199",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/snippets/js\u624b\u5199.md",tags:[],version:"current",frontMatter:{},sidebar:"snippetSidebar",previous:{title:"css",permalink:"/my-blog/docs/snippets/css"},next:{title:"vscode\u4ee3\u7801\u7247\u6bb5\u5206\u7c7b",permalink:"/my-blog/docs/snippets/vscode\u4ee3\u7801\u7247\u6bb5\u5206\u7c7b"}},u={},p=[{value:"\u6570\u636e\u6dfb\u52a0\u5343\u5206\u4f4d/\u4e0a\u5347\u4e0b\u964d\u9ad8\u4eae\u5904\u7406",id:"\u6570\u636e\u6dfb\u52a0\u5343\u5206\u4f4d\u4e0a\u5347\u4e0b\u964d\u9ad8\u4eae\u5904\u7406",level:3},{value:"\u5343\u5206\u4f4d/\u56db\u820d\u4e94\u5165/\u7cbe\u5ea6",id:"\u5343\u5206\u4f4d\u56db\u820d\u4e94\u5165\u7cbe\u5ea6",level:3}],c={toc:p},m="wrapper";function l(n){let{components:e,...r}=n;return(0,a.kt)(m,(0,t.Z)({},c,r,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("h3",{id:"\u6570\u636e\u6dfb\u52a0\u5343\u5206\u4f4d\u4e0a\u5347\u4e0b\u964d\u9ad8\u4eae\u5904\u7406"},"\u6570\u636e\u6dfb\u52a0\u5343\u5206\u4f4d/\u4e0a\u5347\u4e0b\u964d\u9ad8\u4eae\u5904\u7406"),(0,a.kt)("p",null,"\u793a\u4f8b\uff1a3000% => +3,000% (\u7eff\u8272)"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},"/**\n * \u6570\u5b57\u5343\u5206\u4f4d/\u5c0f\u6570\u4f4d\u8865\u5145\u4e24\u4f4d\n * @param {Number} number\n * @param {Boolean} decimalThousands \u5c0f\u6570\u662f\u5426\u9700\u8981\u5343\u5206\u4f4d\n */\nconst\u3000_thousands = (number, decimalThousands) => {\n  // \u5c0f\u6570\u4f4d\u4e5f\u8981\u5343\u5206\u4f4d\n  if (decimalThousands) {\n    return String(number).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n  }\n  // \u5c0f\u6570\u4f4d\u4e0d\u8981\u5343\u5206\u4f4d\n  let parts = String(number).split('.')\n  parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n  return parts.join('.')\n}\n\n/**\n * \u4e0a\u5347\u4e0b\u964d\u7684\u6570\u636e\u5206\u522b\u7528\u4e0d\u540c\u989c\u8272\u663e\u793a\n * @param {String} text\n * @param {String} highlight \u662f\u5426\u9700\u8981\u9ad8\u4eae 0\u4e0d\u9700\u8981 1\u9700\u8981\n * @param {String} thousands \u6587\u672c\u662f\u5426\u9700\u8981\u5343\u5206\u4f4d 0\u4e0d\u9700\u8981 1\u9700\u8981\n */\nconst renderHighlightData = (text, highlight, thousands) => {\n    const renderThousands = (text) => (thousands === '1' ? _thousands(text || '') : text)\n\n    // \u4e0d\u9700\u8981\u6539\u8272\u5c31\u76f4\u63a5\u5224\u65ad\u8981\u4e0d\u8981\u5343\u5206\u4f4d\u5373\u53ef\n    if (highlight !== '1') return renderThousands(text)\n\n    const regex = /(-?\\d+(\\.\\d+)?)(%?)/\n    const match = text?.match(regex)\n    if (match) {\n      const number = Number(match[1])\n      const suffix = match[3];\n      return number > 0 ? (\n        <UpSpan>{`+${renderThousands(number)}${suffix}`}</UpSpan>\n      ) : number < 0 ? (\n        <DownSpan>{`${renderThousands(number)}${suffix}`}</DownSpan>\n      ) : (\n        `${number}${suffix}`\n      )\n    }\n    return renderThousands(text)\n}\n")),(0,a.kt)("h3",{id:"\u5343\u5206\u4f4d\u56db\u820d\u4e94\u5165\u7cbe\u5ea6"},"\u5343\u5206\u4f4d/\u56db\u820d\u4e94\u5165/\u7cbe\u5ea6"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"/**\n * \u6570\u5b57\u5343\u5206\u4f4d/\u5c0f\u6570\u4f4d\u8865\u5145\u4e24\u4f4d\n * @param {Number} number\n * @param {Boolean} decimalThousands \u5c0f\u6570\u662f\u5426\u9700\u8981\u5343\u5206\u4f4d\n */\nfunction thousands(number, decimalThousands) {\n  // \u5c0f\u6570\u4f4d\u4e5f\u8981\u5343\u5206\u4f4d\n  if (decimalThousands) {\n    return String(number).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n  }\n  // \u5c0f\u6570\u4f4d\u4e0d\u8981\u5343\u5206\u4f4d\n  let parts = String(number).split('.')\n  parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n  return parts.join('.')\n}\n\n/**\n * \u5c0f\u6570\u56db\u820d\u4e94\u5165 fixed(1.005, 2) = 1.00\n * @param {Number} number\n * @param {Number} precision\n * @returns\n */\nfunction fixed(number, precision) {\n  let numStr = String(number)\n  let decimalIndex = numStr.indexOf('.')\n  if (decimalIndex !== -1) {\n    // Truncate to specified number of decimal places\n    numStr = numStr.substring(0, decimalIndex + precision + 1)\n  }\n  return numStr\n}\n\n/**\n * \u5c0f\u6570\u56db\u820d\u4e94\u5165 round(1.005, 2) = 1.01\n * @param {Number} number\n * @param {Number} precision\n * @returns\n */\nfunction round(number, precision) {\n  return Math.round(+number + 'e' + precision) / Math.pow(10, precision)\n}\n\n/**\n * \u6570\u5b57\u7cbe\u5ea6\u4e22\u5931\n * @param {Number} number\n * @param {Number} precision\n * @returns\n */\nfunction strip(number, precision = 12) {\n  return +parseFloat(number.toPrecision(precision))\n}\n\n/**\n * \u53cd\u5343\u5206\u4f4d\n * @param {Number} number\n * @returns\n */\nfunction antiThousands(number) {\n  return `${number || ''}`.replace(/,/g, '')\n}\n")))}l.isMDXComponent=!0}}]);